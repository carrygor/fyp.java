#!/usr/bin/bashui_root="/opt/youplus/git/ui"pm_root="/opt/youplus/git/pm"red_echo() {	echo -e "\033[31m$1\033[0m"}green_echo() {	echo -e "\033[32m$1\033[0m"}#执行pullpull() {	echo "步骤:[拉取资源]开始"	if [ "$1" = "ui" ]; then		echo "进入UI目录:"		cd "$ui_root"	elif [ "$1" = "pm" ]; then		echo "进入PM代码目录:"		cd "$pm_root"	else		red_echo "错误的平台参数"		exit 0	fi	pwdexpect -c "	set timeout 100	puts \"Step START: CLONE最新代码\"        spawn git pull;        expect {            \"*sername*\" {				puts \"填入用户名\"                send \"ipbn@youplus.com.cn\r\";				expect {					\"*assword*\" {						puts \"填入密码\"						send \"youPLUS2017\r\";						expect {							"*lready*" {								exit 1;							}							"*forward*" {								exit 2;							}							"*Authentication*" {								exit 0;							}							"*deltas*100%*done*" {                                sleep 3                                exit 1;                            }						}					}				}            }        }"if [ "$?" = "0" ]; then	red_echo "拉取代码失败,退出！"	return 0else	echo "更新代码成功！"	echo "步骤:[拉取代码]结束"	return 1fi}pull "ui"pull "pm"